type Event @entity {
  id: ID!
  block_id: Int!
  event_idx: Int!
  extrinsic_idx: Int
  spec_version_id: Int!
  module_id: String! @index(unique: false)
  event_id: String! @index(unique: false)
  attributes_txt: String!
  event_arg_0: String
  event_arg_1: String
  event_arg_2: String
  event_arg_3: String
  claim_type: String
  claim_scope: String
  claim_issuer: String
  claim_expiry: String
  corporate_action_ticker: String
  fundraiser_offering_asset: String
  transfer_to: String
}

type Debug @entity {
  id: ID!
  line: String
  context: String
}

type FoundType @entity {
  id: ID! # This is type
  rawType: String!
}

type Block @entity {
  id: ID!
  block_id: Int!
  parent_id: Int!
  hash: String!
  parent_hash: String!
  state_root: String!
  extrinsics_root: String!
  count_extrinsics: Int!
  count_extrinsics_unsigned: Int!
  count_extrinsics_signed: Int!
  count_extrinsics_error: Int!
  count_extrinsics_success: Int!
  count_events: Int!
  datetime: Date!
  spec_version_id: String!
}

type Extrinsic @entity {
  id: ID!
  block_id: Int!
  extrinsic_idx: Int!
  extrinsic_length: String!
  signed: Int!
  signedby_address: Int!
  address: String
  module_id: String!
  call_id: String!
  params_txt: String!
  success: Int!
  nonce: Int
  extrinsic_hash: String
  spec_version_id: Int!
}

type StakingEvent @entity {
  id: ID!
  block_id: Int! @index
  event_idx: Int! @index
  staking_event_id: String! @index
  date: Date! @index
  identity_id: String
  stash_account: String
  amount: BigInt
  nominated_validators: [String!]
}

type TickerExternalAgentAction @entity {
  id: ID!
  block_id: Int! @index
  event_idx: Int! @index
  ticker: String! @index
  pallet_name: String! @index
  event_id: String! @index
  caller_did: String! @index
  datetime: Date!
}

type Funding @entity {
  id: ID!
  block_id: Int!
  ticker: String! @index(unique: false)
  funding_name: String! @index(unique: false)
  value: String!
  total_issued_in_funding_round: String!
}

type Sto @entity {
  id: ID!
  offering_asset: String!
}

type Authorization @entity {
  id: ID!
  created_block: Int!
  auth_id: Int! @index
  type: String! @index
  from_did: String! @index
  to_did: String @index
  to_key: String @index
  data: String
  expiry: Date @index
  status: String!
  updated_block: Int!
}

type Investment @entity {
  id: ID!
  block_id: Int!
  investor: String!
  sto_id: Int!
  offering_token: String!
  raise_token: String!
  offering_token_amount: BigInt!
  raise_token_amount: BigInt!
  datetime: Date!
}
